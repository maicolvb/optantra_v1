# -*- coding: utf-8 -*-
"""optantra

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1dSUri7qxmUwYr-b0Z0lVjPde0dULjkMh
"""

!pip install -q streamlit
print("âœ… Streamlit instalado")

procesos = [
    "Recibo y entrada de mercancÃ­a",
    "Control y planeaciÃ³n del inventario",
    "Compras y gestiÃ³n de proveedores",
    "Alistamiento y despacho de pedidos",
    "AtenciÃ³n al cliente / PQRS",
    "Tareas administrativas internas",
    "Reportes, indicadores y anÃ¡lisis",
    "Otro"
]

proceso_elegido = procesos[2]

descripciÃ³n=  "el producto se agota cada 3 semanas"
urgencia ="Alta"

if proceso_elegido == procesos[1]:
  sugerencia = "Implementa una regla mÃ­nimo-mÃ¡ximo y una alerta semanal."
elif proceso_elegido == procesos[2]:
  sugerencia = "reconsidera los metodos de pago y los tiempos de entrega."
else:
   sugerencia = "Audita y documenta el flujo para detectar cuellos de botella."

print(f"""
ğŸ” Proceso:   {proceso_elegido}
âœï¸  Problema: {descripciÃ³n}
âš¡ Urgencia:  {urgencia}

ğŸ’¡ Sugerencia automÃ¡tica:
{sugerencia}
""")

# ğŸ“ CÃ³digo para crear el archivo 1stapp.py

code = """
import streamlit as st

st.set_page_config(page_title='Optantra | Internal Process Advisor', layout='centered')
st.title('ğŸš€ Optantra | Asistente de Procesos Internos')
st.write('Optimiza desde adentro. Describe un proceso y te ayudamos a mejorarlo.')

procesos = [
    'Recibo y entrada de mercancÃ­a',
    'Control y planeaciÃ³n del inventario',
    'Compras y gestiÃ³n de proveedores',
    'Alistamiento y despacho de pedidos',
    'AtenciÃ³n al cliente / PQRS',
    'Tareas administrativas internas',
    'Reportes, indicadores y anÃ¡lisis',
    'Otro'
]

proceso = st.selectbox('ğŸ› ï¸ Selecciona el proceso', procesos)
descripcion = st.text_area('ğŸ“ Describe el problema:')
urgencia = st.radio('âš¡ Nivel de urgencia', ['Baja','Media','Alta'])

if st.button('ğŸ’¡ Obtener sugerencia'):
    if not descripcion.strip():
        st.warning('âš ï¸ Describe el problema para poder ayudarte.')
    else:
        if proceso == 'Control y planeaciÃ³n del inventario':
            sugerencia = 'Implementa una regla mÃ­nimo-mÃ¡ximo y alerta semanal.'
        elif proceso == 'Recibo y entrada de mercancÃ­a':
            sugerencia = 'Digitaliza la inspecciÃ³n de calidad con un checklist.'
        else:
            sugerencia = 'Revisa y estandariza el flujo de trabajo.'

        st.success(f'''
        ğŸ§© Proceso: {proceso}
        âœï¸ DescripciÃ³n: {descripcion}
        âš¡ Urgencia: {urgencia}

        âœ… Sugerencia:
        {sugerencia}
        ''')
"""

# âœ… Guardar el cÃ³digo en un archivo .py dentro de Colab
with open("1stapp.py", "w", encoding="utf-8") as f:
    f.write(code)

print("âœ… Archivo 1stapp.py creado exitosamente.")